{{ define "main" }}
  <section class="hero">
    {{- $imagePath := printf "img/%s" .Site.Params.authorimage -}}
    {{- $image := resources.Get $imagePath -}}
    {{- if $image -}}
      <img class="portrait" src="{{ $image.RelPermalink }}" alt="{{ .Site.Params.author }}">
    {{- end -}}

    <div class="hero-text">
      <h1>{{ .Site.Params.author }}</h1>
      {{- with .Site.Params.intro -}}
        <p class="intro">{{ . }}</p>
      {{- end -}}
      {{ partial "social-links.html" . }}
      {{- with .Site.Params.publicKeys -}}
        <div class="keys-panel">
          <div class="keys-header">
            <p class="keys-title">Public keys</p>
            {{- with $.Site.Params.keysUpdated -}}
              <p class="keys-updated">Updated {{ . }}</p>
            {{- end -}}
          </div>
          <div class="key-grid">
            {{- range . -}}
              {{- $keyName := lower .name -}}
              <a class="key-card" href="{{ .url }}">
              {{- if eq $keyName "gpg" -}}
                <svg class="key-icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd" d="M15.75 1.5a6.75 6.75 0 0 0-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 0 0-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 0 0 .75-.75v-1.5h1.5A.75.75 0 0 0 9 19.5V18h1.5a.75.75 0 0 0 .53-.22l2.658-2.658c.19-.189.517-.288.906-.22A6.75 6.75 0 1 0 15.75 1.5Zm0 3a.75.75 0 0 0 0 1.5A2.25 2.25 0 0 1 18 8.25a.75.75 0 0 0 1.5 0 3.75 3.75 0 0 0-3.75-3.75Z" clip-rule="evenodd" />
                </svg>
              {{- else if eq $keyName "ssh" -}}
                <svg class="key-icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path fill-rule="evenodd" d="M2.25 6a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V6Zm3.97.97a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 0 1-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 0 1 0-1.06Zm4.28 4.28a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z" clip-rule="evenodd" />
                </svg>
              {{- end -}}
                <span class="key-name">{{ .name }}</span>
              </a>
            {{- end -}}
          </div>
        </div>
      {{- end -}}
    </div>
  </section>
{{ end }}
